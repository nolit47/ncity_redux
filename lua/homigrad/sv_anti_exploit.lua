-- -- ZMaxPlayerNetLoad = 2000000
-- ZMaxPlayerNetLoad = 90000
-- ZPlayerNetLoadClearCD = 1
-- ZTotalNetLoadDebugEnabled = false

-- net.Old_Incoming = net.Old_Incoming or net.Incoming

-- function net.Incoming(len, ply)
-- 	ply.ZLastNetClearTime = ply.ZLastNetClearTime or CurTime()
-- 	ply.ZNetLoad = (ply.ZNetLoad or 0) + len
	
-- 	if(ply.ZLastNetClearTime + ZPlayerNetLoadClearCD <= CurTime())then
-- 		ply.ZLastNetClearTime = CurTime()
-- 		ply.ZNetLoad = 0
-- 	end
	
-- 	if(!ply.ZNetLoad_Immunity and ply.ZNetLoad > ZMaxPlayerNetLoad)then
-- 		-- print(ply:Nick() .. " sending too many nets, stop reciving!") return 
-- 		ply:Kick("Reserved slot, sorry")
-- 	end
	
-- 	if(ZTotalNetLoadDebugEnabled)then
-- 		ZPlayerLoadAll = (ZPlayerLoadAll or 0) + len
		
-- 		if(!ZLastNetLoadAllClearTime or (ZLastNetLoadAllClearTime + ZPlayerNetLoadClearCD) <= CurTime())then
-- 			ZLastNetLoadAllClearTime = CurTime()
			
-- 			print("Total net load in " .. ZPlayerNetLoadClearCD .. " seconds: " .. ZPlayerLoadAll)
			
-- 			ZPlayerLoadAll = 0
-- 		end
-- 	end
	
-- 	return net.Old_Incoming(len, ply)
-- end